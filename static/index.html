
<html>
	<head>
		<title> GottaLight </title>

		<!-- jQuery library -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<!-- Latest compiled and minified CSS -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

		<!-- Optional theme -->
		<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

		<!-- Latest compiled and minified JavaScript -->
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

	</head>
	<body>
		<h1>GottaLight</h1> 
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Node Status</h3>
			</div>
			<div class="panel-body">
				<button onclick="getinfo()" type="button" class="btn btn-default">Get Node Info</button>
				<button onclick="getinfo()" type="button" class="btn btn-default">Get Node Info</button>
				<button onclick="listpeers()" type="button" class="btn btn-default">List Peers</button>
				<button onclick="listfunds()" type="button" class="btn btn-default">List Funds</button>
				<button onclick="listinvoices()" type="button" class="btn btn-default">List Invoices</button>
			</div>
		</div>
		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Payments</h3>
			</div>
			<div class="panel-body">
				<button onclick="generateinvoice()" type="button" class="btn btn-default">Generate Invoice</button>
				<button onclick="generateinvoiceQR()" type="button" class="btn btn-default">Generate Invoice QR</button>
				Amount (msatoshi): <input type="text" id="amount">
				Label:<input type="text" id="label">
				Description:<input type="text" id="desc">
				<br>
				<button onclick="pay()" type="button" class="btn btn-default">Pay Invoice</button> bolt11:<input type="text" id="bolt11"/> 
			</div>
		</div>

		<div class="panel panel-default">
			<div class="panel-heading">
				<h3 class="panel-title">Network</h3>
			</div>
			<div class="panel-body">
				<button onclick="connect()" type="button" class="btn btn-default">Connect to Node</button> peer id:<input type="text" id="connect_node_id"/> 
				<br>
				<button onclick="fundchannel()" type="button" class="btn btn-default">Fund Channel</button> peer id:<input type="text" id="fund_node_id"/> amount:<input type="text" id="fund_amount"/> 
				<br>
				<button onclick="getroute()" type="button" class="btn btn-default">Get Route to Node</button> id:<input type="text" id="node_id"/></a> msatoshi:<input type="text" id="msatoshi"/>Risk factor:<input type="text" id="riskfactor"/></p>

			</div>
		</div>

	<script>
document.getElementById("amount").value =1000;
document.getElementById("label").value = new Date().toLocaleString();
document.getElementById("desc").value = "generated by GottaLight";
document.getElementById("riskfactor").value =1;
document.getElementById("bolt11").value ="";
document.getElementById("new_win").value ="New";

function getinfo(){
	window.open("getinfo");
}
function listpeers(){
	window.location = "listpeers";
}
function listfunds(){
	window.location = "listfunds";
}
function listinvoices(){
	window.location = "listinvoices";
}

function pay(){
	var bolt11 = document.getElementById("bolt11");
	var bolt11_val = bolt11.value;
	window.location = "pay?bolt11="+bolt11_val;
}

function getroute(){
	var node_id = document.getElementById("node_id");
	var msatoshi = document.getElementById("msatoshi");
	var riskfactor = document.getElementById("riskfactor");
	var node_id_val = node_id.value;
	var msatoshi_val = msatoshi.value;
	var riskfactor_val = riskfactor.value;

	window.location = "getroute?node_id="+node_id_val+"&msatoshi="+msatoshi_val+"&riskfactor="+riskfactor_val;

}

function generateinvoice(){
	var amount = document.getElementById("amount");
	var label = document.getElementById("label");
	var desc = document.getElementById("desc");
	var amount_val = amount.value;
	var label_val = label.value;
	var desc_val = desc.value;

	window.location = "invoice?amount="+amount_val+"&label="+label_val+"&desc="+desc_val;

}
function generateinvoiceQR(){
	var amount = document.getElementById("amount");
	var label = document.getElementById("label");
	var desc = document.getElementById("desc");
	var amount_val = amount.value;
	var label_val = label.value;
	var desc_val = desc.value;

	window.location = "invoiceqr?amount="+amount_val+"&label="+label_val+"&desc="+desc_val;

}

function connect(){
	var id = document.getElementById("connect_node_id");
	var id_val = id.value;
	window.location = "connect?id="+id_val;
}
function fundchannel(){
	var id = document.getElementById("fund_node_id");
	var id_val = id.value;
	var fund_amount = document.getElementById("fund_amount");
	var fund_amount_val = fund_amount.value;
	window.location = "fundchannel?id="+id_val+"&amount="+fund_amount_val;
}

		</script>
	</body>

</html>
