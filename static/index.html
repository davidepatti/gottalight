<html>

</body>
	</html>
	<body>
		<h1>GottaLight - LightningNetwork Full Node Testing</h1>
		<h2> Node Status </h2>
		<hr>
		<p><a href='/getinfo'>Get Node Information</a></p>
		<p><a href='/listpeers'>Show current peers</a></p>
		<p><a href='/listfunds'>List Funds</a></p>
		<p><a href='/listinvoices'>List Invoices</a></p>
		<h2> Payments </h2>
		<hr>
		<p><a href="javascript:generateinvoice()">Generate New Invoice</a>
		<p><a href="javascript:generateinvoiceQR()">Generate Invoice QR Code</a> </p>
		 amount (msatoshi):<input type="text" id="amount" value="1000"/> label:<input type="text" id="label"/> description:<input type="text" id="desc"/>
		</form>
		</p>
		<p><a href='/waitanyinvoice'>Wait for Invoice</a></p>
		<p><a href="javascript:pay()">Pay Invoice:</a> bolt11:<input type="text" id="bolt11"/> 
		<hr>
		<h2> Network </h2>
		<p><a href='javascript:getroute()'>Get Route to node</a> node ID:<input type="text" id="node_id"/></a> msatoshi:<input type="text" id="msatoshi"/>Risk factor:<input type="text" id="riskfactor"/></p>
<script>
document.getElementById("amount").value =1000;
document.getElementById("label").value = new Date().toLocaleString();
document.getElementById("desc").value = "generated by GottaLight";
document.getElementById("riskfactor").value =1;

function pay(){
	var bolt11 = document.getElementById("bolt11");
	var bolt11_val = bolt11.value;
	window.location = "pay?bolt11="+bolt11_val;
}

function getroute(){
	var node_id = document.getElementById("node_id");
	var msatoshi = document.getElementById("msatoshi");
	var riskfactor = document.getElementById("riskfactor");
	var node_id_val = node_id.value;
	var msatoshi_val = msatoshi.value;
	var riskfactor_val = riskfactor.value;

	window.location = "getroute?node_id="+node_id_val+"&msatoshi="+msatoshi_val+"&riskfactor="+riskfactor_val;

}

function generateinvoice(){
	var amount = document.getElementById("amount");
	var label = document.getElementById("label");
	var desc = document.getElementById("desc");
	var amount_val = amount.value;
	var label_val = label.value;
	var desc_val = desc.value;

	window.location = "invoice?amount="+amount_val+"&label="+label_val+"&desc="+desc_val;

}
function generateinvoiceQR(){
	var amount = document.getElementById("amount");
	var label = document.getElementById("label");
	var desc = document.getElementById("desc");
	var amount_val = amount.value;
	var label_val = label.value;
	var desc_val = desc.value;

	window.location = "invoiceqr?amount="+amount_val+"&label="+label_val+"&desc="+desc_val;

}

function randominvoice(){
	var text = "";
	var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

	for (var i = 0; i < 5; i++)
		text += possible.charAt(Math.floor(Math.random() * possible.length));
	
	window.location = "invoice?amount=1000&label="+text+"&desc=test";
}
function randominvoiceQR(){
	var text = "";
	var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";

	for (var i = 0; i < 5; i++)
		text += possible.charAt(Math.floor(Math.random() * possible.length));
	
	window.location = "invoiceqr?amount=1000&label="+text+"&desc=test";
}
</script>
	</body>

</html>
